# Handoff — 2026-02-14

## Scope Completed

- Integrated `@heddendorp/effect-platform-angular` usage into the Angular app bootstrap:
  - Added `provideEffectHttpClient()` and `provideEffectRpcProtocolHttpLayer({ url: resolveRpcUrl })` in `/Users/hedde/code/evorto/src/app/app.config.ts`.
- Reworked RPC client bootstrap in `/Users/hedde/code/evorto/src/app/core/effect-rpc-angular-client.ts`:
  - Preserved existing app API surface (`AppRpc.providers`, `AppRpc.injectClient()`).
  - Switched to a DI-backed bridge that consumes `EFFECT_RPC_PROTOCOL_HTTP_LAYER` and constructs the typed Effect Angular RPC client in an environment injector.
- Updated dependencies in `/Users/hedde/code/evorto/package.json`:
  - Added `@heddendorp/effect-platform-angular@0.0.7`.

## Validation Ran

- `bun run lint:fix` (passes with existing warnings only)
- `bun run lint:check` (passes with existing warnings only)
- `bun run build:app` (passes)

## Known Follow-up

- Bun package manager operations (`bun add`, `bun install`) currently hang at dependency resolution in this workspace. Dependency installation for this milestone was unblocked via `npm`, then source-level verification was completed with Bun build/lint scripts. This needs a dedicated pass to restore fully Bun-native dependency/lockfile lifecycle.

## Latest Continuation (2026-02-14, production-readiness cleanup sweep)

### Scope Completed

- Cleaned lint-null policy and removed stale `unicorn/no-null` inline suppressions across app/server code.
- Pruned stale dependencies from `/Users/hedde/code/evorto/package.json` and lockfile:
  - removed: `@angular/platform-browser-dynamic`, `@ng-web-apis/common`, `date-fns`, `pdfjs-dist`, `superjson`, `type-fest`, `playwright-core`
  - moved `auth0` from runtime dependencies to dev dependencies.
- Normalized Angular build configuration in `/Users/hedde/code/evorto/angular.json`:
  - added `allowedCommonJsDependencies` for known runtime dependencies (`deepmerge`, `msgpackr-extract`, `node-domexception`)
  - aligned initial bundle budget threshold to the current app footprint.
- Refreshed `/Users/hedde/code/evorto/tests/test-inventory.md` metadata and storage-state status.

### Validation Ran

- `bun run lint:check` (passes)
- `bunx tsc -p tsconfig.app.json --noEmit` (passes)
- `bunx tsc -p tsconfig.spec.json --noEmit` (passes)
- `bun run build:app` (passes)

### Commit

- `27fbaa4` — `cleanup lint-null policy and prune obsolete deps`
